import { sendKYCVerificationEmail, KYCEmailData } from '../client/sendgrid';
import { generateMeetLikeId } from '../utils/id.util';

const SAMPLE_NAMES = ['Arjun Malhotra', 'Sanya Iyer', 'Vikram Sethi', 'Riya Kapoor', 'Aman Verma'];
const SAMPLE_HOTELS = ['The Grand Heritage', 'Azure Bay Resort', 'Midnight Pearl Hotel', 'Summit Lodge', 'Elite Stay Suites'];

const testImageBase64 = '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';

export class TestService {
    /**
     * Send a test verification email with randomized data
     * @param email - The recipient email address
     */
    async sendTestEmail(email: string): Promise<boolean> {
        const randomName = SAMPLE_NAMES[Math.floor(Math.random() * SAMPLE_NAMES.length)];
        const randomHotel = SAMPLE_HOTELS[Math.floor(Math.random() * SAMPLE_HOTELS.length)];

        const dynamicTestData: KYCEmailData = {
            recipientName: randomName,
            organizationName: randomHotel,
            verificationDate: new Date().toLocaleString('en-IN', { timeZone: 'Asia/Kolkata', hour12: true }),
            aadhaarName: randomName,
            aadhaarDob: '15/08/1992',
            aadhaarGender: Math.random() > 0.5 ? 'MALE' : 'FEMALE',
            aadhaarAddress: 'Suite 404, Tech Park Towers, Whitefield, Bangalore, Karnataka',
            aadhaarPincode: '560066',
            checkInId: generateMeetLikeId(),
            userImage: testImageBase64,
        };

        return await sendKYCVerificationEmail(email, dynamicTestData);
    }
}

export default new TestService();
